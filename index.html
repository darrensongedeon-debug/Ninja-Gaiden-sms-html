<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <!-- Mobile fullscreen support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no">

    <title>Ninja Gaiden sms</title>

    <style>
        @font-face {
            font-family: 'Press Start 2P';
            src: url('assets/fonts/PressStart2P-Regular.ttf') format('truetype');
        }

        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: black;
            overflow: hidden;
            font-family: 'Press Start 2P', monospace;
        }

        /* Fullscreen root */
        #holder {
            position: fixed;
            inset: 0;
        }

        /* PERFECTLY CENTERED CANVAS */
        canvas#screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            image-rendering: pixelated;

            max-width: calc(100vh * (256 / 192));
            max-height: calc(100vw * (192 / 256));
            width: 100%;
            height: auto;
        }

        /* Instructions overlay */
        #instructions {
            position: absolute;
            inset: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        /* ðŸ”¥ HARD OVERRIDE ICON POSITIONING ðŸ”¥ */
        #menu_icon,
        #audio_icon {
            position: fixed !important;
            left: 10px !important;
            z-index: 9999 !important;
        }

        #menu_icon {
            top: 10px !important;
        }

        #audio_icon {
            top: 52px !important;
        }
    </style>

    <link rel="stylesheet" href="assets/miracle.css" type="text/css">

    <!-- LOCAL JS FILES -->
    <script src="assets/sms-min.js"></script>
    <script src="assets/main.js"></script>
</head>

<body>

<div id="holder">

    <div id="instructions" onclick="loadGameFullscreen();">
        <div>
            USE ARROW KEYS / WASD / Z / X<br><br>
            CLICK / TOUCH TO <span id="start_text">START</span>

            <div id="pause_menu" onclick="event.stopPropagation();" style="display:none;">
                <span class="button" onclick="toggleMenu();">RESUME</span>
            </div>
        </div>
    </div>

    <canvas id="screen" width="256" height="192"></canvas>

    <img src="assets/menu_icon.png" id="menu_icon" class="icon" onclick="toggleMenu();">
    <img src="assets/audio_icon.png" id="audio_icon" class="icon" onclick="toggleAudio();">

</div>

<script>
function goFullscreen() {
    const el = document.documentElement;
    if (el.requestFullscreen) el.requestFullscreen();
    else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
    else if (el.msRequestFullscreen) el.msRequestFullscreen();
}

function loadGameFullscreen() {
    goFullscreen();
    loadGame();
}
</script>

</body>
</html>
